<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Timespace CMS</title>
  <link rel="stylesheet" href="/css/normalize.css" />
  <link rel="stylesheet" href="/css/main.css" />
  
  <link rel="stylesheet" href="/admin/css/admin.css" />

   <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <base href="/admin/">
</head>
<body>
  <!-- SVG Definitions
       XML namespace is removed to prevent IE8 from choking on the tag 
       (http://stuntbox.com/blog/2013/06/bulletproof-inline-svg/)
  -->
  <svg display="none">
    <defs>
      <symbol id="icon-nav" viewBox="0 0 32 32">
        <title>nav</title>
        <path d="M4,10h24c1.104,0,2-0.896,2-2s-0.896-2-2-2H4C2.896,6,2,6.896,2,8S2.896,10,4,10z M28,14H4 c-1.104,0-2,0.896-2,2c0,1.104,0.896,2,2,2h24c1.104,0,2-0.896,2-2C30,14.896,29.104,14,28,14z M28,22H4c-1.104,0-2,0.896-2,2 s0.896,2,2,2h24c1.104,0,2-0.896,2-2S29.104,22,28,22z"/>
      </symbol>
    </defs>
  </svg>

  <script type="text/x-handlebars" data-template-name='home'>
  <div class="body narrow">
    <div class="section courses">
      <div class="pull-left meta rtl">
        <h2>Add new content</h2>
      </div>
      <ul class="no-bullets">
        {{#each collection in collections}}
          {{#if collection.create }}
            <li>
              <h3>
              {{#link-to "collections.new" collection class="card new"}}
                New {{collection.label}} <small>Add a new {{collection.label}} to your website</small>
              {{/link-to}}
              </h3>
            </li>
          {{/if}}
        {{/each}}
      </ul>
    </div>
  </div>
  </script>  

  <script type="text/x-handlebars" data-template-name='collections/new'>
  <div class="container no-max-width">
    <form name="contentForm" class="cms-form">
      <div class="widget meta">
        <div class="form-control"><h2>Create {{label}}</h2></div>
        <div class="preview"><h2>Preview {{label}}</h2></div>
      </div>

      {{#each field in fields itemController="field"}}
        <div class="widget">
          <div class="form-control">
            {{cms-widget-control field=field}}
          </div>
          <div class="preview">
            {{cms-widget-preview field=field}}
          </div>
        </div>
      {{/each}}

      <div class="controls">
        <button class="button">Create {{label}}</button>
      </div>
    </form>
  </div>
  </script>

  <script type="text/x-handlebars" data-template-name='application'>
  <div class="header">
    <div class="top-bar">
      <div class="container">
        
        <div class="masthead">
          <h6>
            <a href="/about" target="_self">Erik Christensen <span>Musicologist, Educator &amp; Researcher</span></a>
          </h6>
        </div>
        
        <div class="breadcrumb">
          <a href="/" target="_self">Timespace</a>
          {{#link-to 'home'}}/ Admin{{/link-to}}
          <span> / {{ currentAction }} </span>
        </div>

        <div class="nav">
          <a id="nav-button" class="icon-link no-underline" href="#navigation">
            <svg class="icon-nav">
              <use xlink:href="#icon-nav"></use>
              <foreignObject>
                <span class="svg-fallback icon-nav">Menu</span>
              </foreignObject>
            </svg>
          </a>
          <ul id="navigation">
            <li><a ng-href="/admin/logout">Logout</a></li>
          </ul>
        </div>
        
      </div>
    </div>
  </div>

  {{outlet}}
  </script>


  <!-- Widgets -->
  <script type="text/x-handlebars" data-template-name='widgets/string'>
  <label>{{field.label}}</label>
  {{input value=field.value}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/date'>
  <label>{{field.label}}</label>
  {{input value=field.value}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/markdown'>
  {{cms-markdown-editor label=field.label value=field.value}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/links'>
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/files'>
  </script>


  <script type="text/x-handlebars" data-template-name='widgets/string_preview'>
  {{#view tagName=field.tagname class=field.class}}
  {{field.value}}
  {{/view}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/date_preview'>
  {{#view tagName=field.tagname class=field.class}}
  {{field.value}}
  {{/view}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/markdown_preview'>
  {{#view tagName=field.tagname class=field.class}}
  {{cms-markdown-viewer field.value}}
  {{/view}}
  </script>

  <script type="text/x-handlebars" data-template-name='widgets/links_preview'>

  </script>

  <script type="text/x-handlebars" data-template-name='widgets/files_preview'>
  </script>



  <script type="text/x-handlebars" data-template-name='components/cms-markdown-editor'>
  <div class="markdown-editor"">
    <div class="markdown-label">
      <label>{{label}}</label>
    </div>
    <div class="markdown-menu">
      <a class="markdown-menu-icon markdown-icon-bold" {{action 'bold'}}>Bold</a>
      <a class="markdown-menu-icon markdown-icon-italic" {{action 'italic'}}>Italic</a>
      <a class="markdown-menu-icon markdown-icon-link" {{action 'link'}}>Link</a>
    </div>
    {{#if showLinkbox}}
    <div class="markdown-link-box clearfix">
      {{input type="text" class="markdown-link-url" placeholder="https://www.netlify.com" value=linkUrl focus-out="insertLink" enter="insertLink"}}      
    </div>
    {{/if}}
    <div class="markdown-body">
      {{cms-expanding-textarea value=value}}
    </div>
  </div>
  </script>  


  <!-- Netlify CMS -->
  <script src="/admin/js/lib/js-yaml.js"></script>
  <script src="/admin/js/lib/marked.js"></script>

  <script src="/admin/js/lib/jquery.js"></script>
  <script src="/admin/js/lib/handlebars.js"></script>
  <script src="/admin/js/lib/ember.js"></script>
  <script src="/admin/js/cms.js"></script>
  
</body>
</html>